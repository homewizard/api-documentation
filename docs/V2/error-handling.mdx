---
sidebar_position: 7
---

import PreliminaryWarning from '@site/src/components/PreliminaryWarning.js'

# Error handling

<PreliminaryWarning />

When you perform an invalid request or something went wrong, the API will respond with an error message. You have to check if the HTTP status code returns `200 OK` before parsing the result or `204 No Content` if you expect no content (actions and set requests).
If you use an endpoint that returns JSON, you also will receive an object with some error information.

## Error codes

Each error is represented as a set of 'scope' and 'error' fields. The 'scope' field indicates the part of the request that caused the error, and the 'error' field provides a description of the error. For example `user:name-invalid` if you provide an invalid name for the user during the authorization flow.

### List of errors

| Code                | Description                  |
| ------------------- | ---------------------------- |
| `user:name-invalid` | The name provided is invalid |
| TODO                | ...                          |

:::tip
The list of error codes may be extended in the future. We recommend that you prepare for new error codes by having a generic error handling mechanism in place.
:::

## Examples

### Not authenticated

```shell title="Request"
curl https://<IP ADDRESS>/api --insecure \
  -H "Authorization: Bearer <INVALID_TOKEN>" \
  -H "X-Api-Version: 2" \
```

```http title="Response"
https/1.1 401 Unauthorized
Content-Type: application/json
Content-Length: <length>

{
    "error": "user:unauthorized"
}
```

### Invalid value

```http title="Request"
curl https://<IP ADDRESS>/api/system --insecure \
  -X PUT \
  -H "Authorization: Bearer <TOKEN>" \
  -H "X-Api-Version: 2" \
   -d '{"status_led_brightness_pct": 123}'
```

```http title="Response"
https/1.1 401 Unauthorized
Content-Type: application/json
Content-Length: <length>

{
    {"error":"parameter-invalid-type:status_led_brightness_pct"}
}
```
